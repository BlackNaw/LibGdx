package com.mygdx.game;

import com.badlogic.gdx.ApplicationAdapter;
import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.graphics.GL20;
import com.badlogic.gdx.graphics.OrthographicCamera;
import com.badlogic.gdx.physics.box2d.Box2DDebugRenderer;
import com.badlogic.gdx.utils.viewport.ScreenViewport;
import com.badlogic.gdx.utils.viewport.Viewport;
import com.uwsoft.editor.renderer.SceneLoader;

public class MyGdxGame extends ApplicationAdapter {
	
	SceneLoader sl;
	Viewport viewport;
	Box2DDebugRenderer debugRender;
	OrthographicCamera camera;
//	Matrix4 debugMatrix;
	
	@Override
	public void create () {
		//Zona de creacion de objetos
		camera=new OrthographicCamera(Gdx.graphics.getWidth(),Gdx.graphics.getHeight());
		viewport = new ScreenViewport(camera);
		sl = new SceneLoader();
		debugRender = new Box2DDebugRenderer();
		
		//Zona de carga
		sl.loadScene("MainScene", viewport);
	}

	@Override
	public void render () {
		Gdx.gl.glClearColor(0, 0, 0, 1);
		Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);
		debugRender.render(sl.world, camera.combined.scale(20, 20, 1));
		//actualizamos el engine de ashley
		sl.getEngine().update(Gdx.graphics.getDeltaTime());
	}
	
	@Override
	public void dispose () {
	}
}
